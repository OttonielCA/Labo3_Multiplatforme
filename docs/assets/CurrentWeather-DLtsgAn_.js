import{d as I,r as l,o as w,c as y,w as t,u as e,a as c,b as a,I as x,e as k,f as s,g as T,h as V,i as v,j as B,t as r,k as C,l as H,m as N,n as S,p as $,q as b,s as h,v as W,x as E}from"./index-B1vZXBVn.js";import{G as F,C as G,_ as M}from"./_plugin-vue_export-helper-DUOJo0_W.js";const P={key:0,class:"error-message"},j={key:1,class:"weather-container"},q=I({__name:"CurrentWeather",setup(A){const n=l(null),_=l(!0),u=l(null),m=l(""),g=async()=>{try{const d=await F.getCurrentPosition(),{latitude:o,longitude:p}=d.coords,f=await G.get({url:`https://api.open-meteo.com/v1/forecast?latitude=${o}&longitude=${p}&current=temperature_2m,relative_humidity_2m,wind_speed_10m`});if(f.status===200){const i=f.data;n.value={temperature:i.current.temperature_2m,humidity:i.current.relative_humidity_2m,windSpeed:i.current.wind_speed_10m},m.value=`${o.toFixed(2)}, ${p.toFixed(2)}`}}catch{u.value="Erreur lors de la récupération des données météo"}finally{_.value=!1}};return w(()=>{g()}),(d,o)=>(c(),y(e(E),null,{default:t(()=>[a(e(T),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(k),null,{default:t(()=>o[0]||(o[0]=[s("Météo Actuelle")])),_:1})]),_:1})]),_:1}),a(e(W),{fullscreen:!0},{default:t(()=>[a(e(V),{"is-open":_.value,message:"Chargement..."},null,8,["is-open"]),u.value?(c(),v("div",P,[a(e(B),{color:"danger"},{default:t(()=>[s(r(u.value),1)]),_:1})])):C("",!0),n.value?(c(),v("div",j,[a(e(H),null,{default:t(()=>[a(e(N),null,{default:t(()=>[a(e(S),null,{default:t(()=>[s(r(m.value),1)]),_:1}),a(e($),null,{default:t(()=>[s(r(n.value.temperature)+"°C",1)]),_:1})]),_:1}),a(e(b),null,{default:t(()=>[h("p",null,"Humidité: "+r(n.value.humidity)+"%",1),h("p",null,"Vent: "+r(n.value.windSpeed)+" km/h",1)]),_:1})]),_:1})])):C("",!0)]),_:1})]),_:1}))}}),z=M(q,[["__scopeId","data-v-0125c9e9"]]);export{z as default};
