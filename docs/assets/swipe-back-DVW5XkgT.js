import{G as R,E as O,H as V}from"./index-CaSZrf7K.js";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Y=(t,r,c,o)=>{const s=F(t)?{capture:!1,passive:!!o.passive}:!1;let n,a;return t.__zone_symbol__addEventListener?(n="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(n="addEventListener",a="removeEventListener"),t[n](r,c,s),()=>{t[a](r,c,s)}},F=t=>{if(M===void 0)try{const r=Object.defineProperty({},"passive",{get:()=>{M=!0}});t.addEventListener("optsTest",()=>{},r)}catch{M=!1}return!!M};let M;const H=2e3,j=(t,r,c,o,s)=>{let n,a,p,l,f,i,v,g=0;const u=d=>{g=Date.now()+H,r(d)&&(!a&&c&&(a=Y(t,"touchmove",c,s)),p||(p=Y(d.target,"touchend",e,s)),l||(l=Y(d.target,"touchcancel",e,s)))},X=d=>{g>Date.now()||r(d)&&(!i&&c&&(i=Y(G(t),"mousemove",c,s)),v||(v=Y(G(t),"mouseup",y,s)))},e=d=>{h(),o&&o(d)},y=d=>{E(),o&&o(d)},h=()=>{a&&a(),p&&p(),l&&l(),a=p=l=void 0},E=()=>{i&&i(),v&&v(),i=v=void 0},S=()=>{h(),E()},_=(d=!0)=>{d?(n||(n=Y(t,"touchstart",u,s)),f||(f=Y(t,"mousedown",X,s))):(n&&n(),f&&f(),n=f=void 0,S())};return{enable:_,stop:S,destroy:()=>{_(!1),o=c=r=void 0}}},G=t=>t instanceof Document?t:t.ownerDocument,q=(t,r,c)=>{const o=c*(Math.PI/180),s=t==="x",n=Math.cos(o),a=r*r;let p=0,l=0,f=!1,i=0;return{start(v,g){p=v,l=g,i=0,f=!0},detect(v,g){if(!f)return!1;const u=v-p,X=g-l,e=u*u+X*X;if(e<a)return!1;const y=Math.sqrt(e),h=(s?u:X)/y;return h>n?i=1:h<-n?i=-1:i=0,f=!1,!0},isGesture(){return i!==0},getDirection(){return i}}},I=t=>{let r=!1,c=!1,o=!0,s=!1;const n=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),a=n.canStart,p=n.onWillStart,l=n.onStart,f=n.onEnd,i=n.notCaptured,v=n.onMove,g=n.threshold,u=n.passive,X=n.blurOnStart,e={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},y=q(n.direction,n.threshold,n.maxAngle),h=R.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),E=m=>{const w=A(m);return c||!o||(x(m,e),e.startX=e.currentX,e.startY=e.currentY,e.startTime=e.currentTime=w,e.velocityX=e.velocityY=e.deltaX=e.deltaY=0,e.event=m,a&&a(e)===!1)||(h.release(),!h.start())?!1:(c=!0,g===0?T():(y.start(e.startX,e.startY),!0))},S=m=>{if(r){!s&&o&&(s=!0,C(e,m),requestAnimationFrame(_));return}C(e,m),y.detect(e.currentX,e.currentY)&&(!y.isGesture()||!T())&&W()},_=()=>{r&&(s=!1,v&&v(e))},T=()=>h.capture()?(r=!0,o=!1,e.startX=e.currentX,e.startY=e.currentY,e.startTime=e.currentTime,p?p(e).then(b):b(),!0):!1,d=()=>{if(typeof document<"u"){const m=document.activeElement;m!=null&&m.blur&&m.blur()}},b=()=>{X&&d(),l&&l(e),o=!0},D=()=>{r=!1,c=!1,s=!1,o=!0,h.release()},L=m=>{const w=r,z=o;if(D(),!!z){if(C(e,m),w){f&&f(e);return}i&&i(e)}},P=j(n.el,E,S,L,{capture:!1,passive:u}),W=()=>{D(),P.stop(),i&&i(e)};return{enable(m=!0){m||(r&&L(void 0),D()),P.enable(m)},destroy(){h.destroy(),P.destroy()}}},C=(t,r)=>{if(!r)return;const c=t.currentX,o=t.currentY,s=t.currentTime;x(r,t);const n=t.currentX,a=t.currentY,l=(t.currentTime=A(r))-s;if(l>0&&l<100){const f=(n-c)/l,i=(a-o)/l;t.velocityX=f*.7+t.velocityX*.3,t.velocityY=i*.7+t.velocityY*.3}t.deltaX=n-t.startX,t.deltaY=a-t.startY,t.event=r},x=(t,r)=>{let c=0,o=0;if(t){const s=t.changedTouches;if(s&&s.length>0){const n=s[0];c=n.clientX,o=n.clientY}else t.pageX!==void 0&&(c=t.pageX,o=t.pageY)}r.currentX=c,r.currentY=o},A=t=>t.timeStamp||Date.now();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const k=(t,r,c,o,s)=>{const n=t.ownerDocument.defaultView;let a=O(t);const p=u=>{const{startX:e}=u;return a?e>=n.innerWidth-50:e<=50},l=u=>a?-u.deltaX:u.deltaX,f=u=>a?-u.velocityX:u.velocityX;return I({el:t,gestureName:"goback-swipe",gesturePriority:101,threshold:10,canStart:u=>(a=O(t),p(u)&&r()),onStart:c,onMove:u=>{const e=l(u)/n.innerWidth;o(e)},onEnd:u=>{const X=l(u),e=n.innerWidth,y=X/e,h=f(u),E=e/2,S=h>=0&&(h>.2||X>E),T=(S?1-y:y)*e;let d=0;if(T>5){const b=T/Math.abs(h);d=Math.min(b,540)}s(S,y<=0?.01:V(0,y,.9999),d)}})};export{k as createSwipeBackGesture};
