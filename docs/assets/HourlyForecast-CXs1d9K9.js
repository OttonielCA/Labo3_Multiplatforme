import{d as k,r as m,o as F,c as g,w as t,u as e,a as s,b as a,I as x,e as w,f as h,g as B,h as L,i as _,j as T,t as u,k as v,y as N,F as V,z as b,v as P,x as D,A as E,B as G,s as p}from"./index-CaSZrf7K.js";import{G as S,C as $,_ as j}from"./_plugin-vue_export-helper-DwHMWb2M.js";const z={key:0,class:"error-message"},A={key:1,class:"forecast-container"},M=k({__name:"HourlyForecast",setup(R){const i=m([]),f=m(!0),c=m(null),I=async()=>{try{const o=await S.getCurrentPosition(),{latitude:l,longitude:r}=o.coords,n=await $.get({url:`https://api.open-meteo.com/v1/forecast?latitude=${l}&longitude=${r}&hourly=temperature_2m,relative_humidity_2m`});if(n.status===200){const d=n.data;i.value=d.hourly.time.slice(0,24).map((H,y)=>({time:H,temperature:d.hourly.temperature_2m[y],humidity:d.hourly.relative_humidity_2m[y]}))}}catch{c.value="Erreur lors de la récupération des prévisions"}finally{f.value=!1}},C=o=>new Date(o).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});return F(()=>{I()}),(o,l)=>(s(),g(e(D),null,{default:t(()=>[a(e(B),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(w),null,{default:t(()=>l[0]||(l[0]=[h("Prévisions Horaires")])),_:1})]),_:1})]),_:1}),a(e(P),{fullscreen:!0},{default:t(()=>[a(e(L),{"is-open":f.value,message:"Chargement..."},null,8,["is-open"]),c.value?(s(),_("div",z,[a(e(T),{color:"danger"},{default:t(()=>[h(u(c.value),1)]),_:1})])):v("",!0),i.value.length?(s(),_("div",A,[a(e(N),null,{default:t(()=>[(s(!0),_(V,null,b(i.value,(r,n)=>(s(),g(e(E),{key:n},{default:t(()=>[a(e(G),null,{default:t(()=>[p("h2",null,u(C(r.time)),1),p("p",null,u(r.temperature)+"°C",1),p("p",null,"Humidité: "+u(r.humidity)+"%",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):v("",!0)]),_:1})]),_:1}))}}),K=j(M,[["__scopeId","data-v-041015ec"]]);export{K as default};
