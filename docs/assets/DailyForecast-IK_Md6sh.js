import{d as k,r as m,o as D,c as y,w as a,u as e,a as r,b as t,I as F,e as M,f as v,g as w,h as b,i as p,j as B,t as u,k as I,y as L,F as N,z as T,v as V,x as P,A as E,B as G,s as _}from"./index-B1vZXBVn.js";import{G as H,C as S,_ as $}from"./_plugin-vue_export-helper-DUOJo0_W.js";const j={key:0,class:"error-message"},z={key:1,class:"forecast-container"},A=k({__name:"DailyForecast",setup(J){const i=m([]),f=m(!0),c=m(null),x=async()=>{try{const o=await H.getCurrentPosition(),{latitude:s,longitude:n}=o.coords,l=await S.get({url:`https://api.open-meteo.com/v1/forecast?latitude=${s}&longitude=${n}&daily=temperature_2m_max,temperature_2m_min`});if(l.status===200){const d=l.data;i.value=d.daily.time.map((h,g)=>({time:h,temperatureMax:d.daily.temperature_2m_max[g],temperatureMin:d.daily.temperature_2m_min[g]}))}}catch{c.value="Erreur lors de la récupération des prévisions"}finally{f.value=!1}},C=o=>new Date(o).toLocaleDateString("fr-FR",{weekday:"long",month:"long",day:"numeric"});return D(()=>{x()}),(o,s)=>(r(),y(e(P),null,{default:a(()=>[t(e(w),null,{default:a(()=>[t(e(F),null,{default:a(()=>[t(e(M),null,{default:a(()=>s[0]||(s[0]=[v("Prévisions Journalières")])),_:1})]),_:1})]),_:1}),t(e(V),{fullscreen:!0},{default:a(()=>[t(e(b),{"is-open":f.value,message:"Chargement..."},null,8,["is-open"]),c.value?(r(),p("div",j,[t(e(B),{color:"danger"},{default:a(()=>[v(u(c.value),1)]),_:1})])):I("",!0),i.value.length?(r(),p("div",z,[t(e(L),null,{default:a(()=>[(r(!0),p(N,null,T(i.value,(n,l)=>(r(),y(e(E),{key:l},{default:a(()=>[t(e(G),null,{default:a(()=>[_("h2",null,u(C(n.time)),1),_("p",null,"Max: "+u(n.temperatureMax)+"°C",1),_("p",null,"Min: "+u(n.temperatureMin)+"°C",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):I("",!0)]),_:1})]),_:1}))}}),K=$(A,[["__scopeId","data-v-1ebf9b06"]]);export{K as default};
